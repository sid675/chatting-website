<!DOCTYPE html>
<html>
    <title>Login</title>
    
    <script type="module">
        
       //{ getDatabase,set,ref}
         // 8404
         // Import the functions you need from the SDKs you need
         import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
         import {getFirestore} from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';
         import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";
         import { getDatabase,set,ref,push} from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";
         import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
         
         
         // TODO: Add SDKs for Firebase products that you want to use
         // https://firebase.google.com/docs/web/setup#available-libraries
          
         // Your web app's Firebase configuration
         // For Firebase JS SDK v7.20.0 and later, measurementId is optional
         const firebaseConfig = {
    apiKey: "AIzaSyDu86qU6LwsXzE64c0DhTyQQV0kSv5EneQ",
    authDomain: "chatting-website-cfecc.firebaseapp.com",
    databaseURL: "https://chatting-website-cfecc-default-rtdb.firebaseio.com",
    projectId: "chatting-website-cfecc",
    storageBucket: "chatting-website-cfecc.appspot.com",
    messagingSenderId: "514839764180",
    appId: "1:514839764180:web:f76894f19d78d2f8986f41",
    measurementId: "G-KW7CG7BX7C"
  };

//   firebase.initializeApp(firebaseConfig);
//   firebase.analytics();
//   var dataab = firebase.database().ref
         // Initialize Firebase
         const app = initializeApp(firebaseConfig);
         const analytics = getAnalytics(app);
         const database = getDatabase(app); 
         const auth = getAuth();

         const submit = document.getElementById("submit");
         

        submit.addEventListener('click',submitForm =>{
            var email = document.getElementById("Email").value;
            var password = document.getElementById("password").value;
            signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    alert("Signed in");
    window.location.href = "pain_page.html";
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert(errorMessage);
  });

         });
        </script>
    <body>
        <script src="Login_Script.js"></script>
        <link rel="stylesheet" href="Login_styling.css">
        <script src="Login_Script.js"></script>
        <div class="container">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
        <form>
            <h2>Login</h2>
            <input type="text" id="Email" placeholder=" Email" required="" oninput="check_email()"><br>
            <input type="password" id="password" placeholder="Password" required="" >
            <i class="far fa-eye" id="togglePassword" onclick="eye()"></i><br>
            <p id="message"></p>
        </form>
        <button id="submit" onclick="check_email()">Login</button>

        <label for="dont have an account" id="newAcc">Don't have an account</label>
        <a href="CreateUser.html" id="newacc">Login</a>
 
        </div>
    </body>
</html>